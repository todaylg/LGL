<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, minimal-ui, viewport-fit=cover, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <title>LGL Example</title>
    <link href="assets/main.css" rel="stylesheet">
</head>

<body>
    <div class="panel">
        <a class="title" href="https://github.com/oframe/ogl">LGL</a>
        <div class="subTitle">Examples</div>
        <a class="example" href="basePrimitives.html">Base Primitives</a>
        <a class="example" href="glTFLoader.html">glTF Loader</a>
        <div class="todoExample">glTF Loader - Skinning Animation</div>
        <div class="todoExample">glTF Loader - KeyFrame Animation</div>
        <div class="todoExample">Light(Point/Spot/Rectarealight)</div>
        <div class="todoExample">LightMode(basic/lambert/phong/standard/pbr/toon)</div>
        <div class="todoExample">Shadow</div>
        <div class="todoExample">Raycasting</div>
        <div class="todoExample">Fog</div>
        <div class="todoExample">Text</div>
        <div class="todoExample">Texture - Cube Map/ Texture2D</div>
        <div class="todoExample">Transparency/Blending</div>
        <div class="todoExample">Particle</div>
        <div class="todoExample">Postprocessing</div>
    </div>
    <iframe class="viewer" allowfullscreen allowvr onmousewheel=""></iframe>
    <a class="sourceCodeIcon" href="" target="_blank">&lt;&#47;&gt;</a>
    <script>
        const sourceLink = document.querySelectorAll('.sourceCodeIcon')[0];
        const exampleLinks = document.querySelectorAll('.example');
        const viewer = document.querySelectorAll('.viewer')[0];
        const sourcePath = 'https://github.com/todaylg/lgl/tree/master/examples/';

        let loadQuery = location.search.split('src=');
        if (loadQuery[1]) {
            viewer.src = loadQuery[1];
            sourceLink.href = sourcePath + loadQuery[1];
        } else {
            let target = exampleLinks[0];
            updateExample({
                target
            });
        }

        exampleLinks.forEach(link => {
            link.addEventListener('click', updateExample, false);
        });

        function updateExample(e) {
            let src = e.target.href.split('examples/')[1];
            // Allow user to cmd/ctrl + click to open in new tab
            if (e.metaKey) {
                window.open(`${location.origin}${location.pathname}?src=${src}`, '_blank');
                return;
            }
            viewer.src = e.target.href;
            sourceLink.href = sourcePath + src;
            // Update search query
            history.pushState(null, null, `${location.origin}${location.pathname}?src=${src}`);
            e.preventDefault && e.preventDefault();
        }
    </script>
</body>

</html>