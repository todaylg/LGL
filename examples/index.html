<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, minimal-ui, viewport-fit=cover, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <title>LGL Example</title>
    <link href="assets/main.css" rel="stylesheet">
</head>

<body>
    <div class="panel">
        <a class="title" href="https://github.com/oframe/ogl">LGL</a>
        <div class="subTitle">Examples</div>
        <div class="secTitle">Base</div>
        <a class="example" href="basePrimitives.html">Base Primitives</a>
        <a class="example" href="particle.html">Particle</a>
        <a class="example" href="instance.html">Instance</a>
        <a class="example" href="reflector.html">Reflector</a>
        <a class="example" href="shadowMap.html">ShadowMap</a>
        <!-- <a class="example" href="shadowMap.html">ShadowMap - Ponit Light</a> -->
        <a class="example" href="text.html">Text</a>
        <div class="secTitle">glTF Loader</div>
        <a class="example" href="glTFLoader.html">Base</a>
        <a class="example" href="glTFLoader_Animation.html">Skinning Animation</a>
        <a class="example" href="glTFLoader_MorphTarget.html">Morph Target</a>
        <div class="secTitle">Post Processing</div>
        <a class="example" href="postProcessing_Blur.html">Blur</a>
        <a class="example" href="postProcessing_Glitch.html">Glitch</a>
        <a class="example" href="postProcessing_Bloom.html">Bloom</a>
        <a class="example" href="postProcessing_Vignette.html">Vignette</a>
        <a class="example" href="postProcessing_DOF.html">DOF</a>
        <!-- <a class="example" href="postProcessing_LensFlare.html">Post Processing - LensFlare</a> -->
        <div class="secTitle">Todo List</div>
        <div class="todoExample">Text</div>
        <div class="todoExample">Raycasting</div>
        <div class="todoExample">PostProcessing_DOF2</div>
        <div class="todoExample">ShadowMap - Performence</div>
        <div class="todoExample">ShadowMap - PointLight</div>
        <div class="todoExample">Fog</div>
        <div class="todoExample">Texture - Cube Map/ Texture2D</div>
        <div class="todoExample">Transparency/Blending</div>
    </div>
    <iframe class="viewer" allowfullscreen allowvr onmousewheel=""></iframe>
    <a class="sourceCodeIcon" href="" target="_blank">&lt;&#47;&gt;</a>
    <script>
        const sourceLink = document.querySelectorAll('.sourceCodeIcon')[0];
        const exampleLinks = document.querySelectorAll('.example');
        const viewer = document.querySelectorAll('.viewer')[0];
        const sourcePath = 'https://github.com/todaylg/lgl/tree/master/examples/';

        let loadQuery = location.search.split('src=');
        if (loadQuery[1]) {
            viewer.src = loadQuery[1];
            sourceLink.href = sourcePath + loadQuery[1];
        } else {
            let target = exampleLinks[0];
            updateExample({
                target
            });
        }

        exampleLinks.forEach(link => {
            link.addEventListener('click', updateExample, false);
        });

        function updateExample(e) {
            let src = e.target.href.split('examples/')[1];
            // Allow user to cmd/ctrl + click to open in new tab
            if (e.metaKey) {
                window.open(`${location.origin}${location.pathname}?src=${src}`, '_blank');
                return;
            }
            viewer.src = e.target.href;
            sourceLink.href = sourcePath + src;
            // Update search query
            history.pushState(null, null, `${location.origin}${location.pathname}?src=${src}`);
            e.preventDefault && e.preventDefault();
        }
    </script>
</body>

</html>